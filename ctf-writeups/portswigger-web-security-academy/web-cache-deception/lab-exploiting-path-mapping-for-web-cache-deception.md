---
description: >-
  To solve the lab, find the API key for the user carlos. You can log in to your
  own account using the following credentials: wiener:peter.
---

# Lab: Exploiting path mapping for web cache deception

First We Login In Wiener Account&#x20;

<figure><img src="../../../.gitbook/assets/image (51).png" alt=""><figcaption></figcaption></figure>

Then We Capture The My Account request in Burpuite !!

<figure><img src="../../../.gitbook/assets/image (52).png" alt=""><figcaption></figcaption></figure>

Then  We Use The Web cache attack we put the `/hack.js`   and send The request and we got some interesting response .

`X-Cache: miss`

<figure><img src="../../../.gitbook/assets/image (53).png" alt=""><figcaption></figcaption></figure>

Then Send The Same Request And We Got `X-Cache: hit`  It's Mean Here We Do Web Cache Deception Attack !!

<figure><img src="../../../.gitbook/assets/image (54).png" alt=""><figcaption></figcaption></figure>

First We Delivered The Payload to the victim in exploit server !!

```
<script>document.location="https://0a9400ba04f5e06a80b54e83005a0074.web-security-academy.net/my-account/exploit.js"</script>
```

<figure><img src="../../../.gitbook/assets/image (59).png" alt=""><figcaption></figcaption></figure>

When carlos visit the our url in browser their login session we got in `/exploit.js` !!

Then We Visit The Website Again We Got The Carlos Cache !!

<figure><img src="../../../.gitbook/assets/image (58).png" alt=""><figcaption></figcaption></figure>

Submit The Carlos api key according to the question and we complete the lab !!

<figure><img src="../../../.gitbook/assets/image (60).png" alt=""><figcaption></figcaption></figure>























