---
description: >-
  To solve the lab, find the API key for the user carlos. You can log in to your
  own account using the following credentials: wiener:peter.
---

# Lab: Exploiting origin server normalization for web cache deception

First We Login In Wiener Account&#x20;

<figure><img src="../../../.gitbook/assets/image (42).png" alt=""><figcaption></figcaption></figure>

notice that the paths for static resources all start with the directory prefix `/resources`. Notice that responses to requests with the `/resources` prefix show evidence of caching.

<figure><img src="../../../.gitbook/assets/image (43).png" alt=""><figcaption></figcaption></figure>

Then i try normalization on cache directory like `/resources` and it's work !!!

<figure><img src="../../../.gitbook/assets/image (44).png" alt=""><figcaption></figcaption></figure>

Then I send This Request To the burp intruder and we find the working delimiters for the web cache deception !!

<figure><img src="../../../.gitbook/assets/image (37).png" alt=""><figcaption></figcaption></figure>

Then Start The Attack And See The Response status we got `?` this delimiters for the attack !!

<figure><img src="../../../.gitbook/assets/image (38).png" alt=""><figcaption></figcaption></figure>

This Delimiter is Work We Got The response and we got interesting one is `X-Cache: hit`  it's mean this is working properly !!

<figure><img src="../../../.gitbook/assets/image (39).png" alt=""><figcaption></figcaption></figure>

Let's Craft The url and Send To the Exploit Server !!

<figure><img src="../../../.gitbook/assets/image (40).png" alt=""><figcaption></figcaption></figure>

We Visit The Website and We Finally Access The Carlos Account !!

<figure><img src="../../../.gitbook/assets/image (41).png" alt=""><figcaption></figcaption></figure>

Complete The Exercise Using The Carlos Api Key !!

<figure><img src="../../../.gitbook/assets/image (401).png" alt=""><figcaption></figcaption></figure>
